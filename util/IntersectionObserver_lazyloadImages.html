<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Images Lazy Loading</title>
  </head>
  <style>
    body {
      background-color: aliceblue;
      min-height: 3000px;
    }
    #imgContainer {
      position: absolute;
      top: 1250px;
      background-color: bisque;
    }
    img {
      min-width: 100px;
      margin-bottom: 400px;
    }
  </style>
  <body>
    <div id="imgContainer">
      <img
        data-src="https://images.pexels.com/photos/1407305/pexels-photo-1407305.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
      />
      <img
        data-src="https://images.pexels.com/photos/756903/pexels-photo-756903.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
      />

      <img
        data-src="https://images.pexels.com/photos/2395244/pexels-photo-2395244.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
      />
    </div>
    <script>
      const options = {
        root: null,
        rootMargin: "0px 0px -300px 0px",
        threshold: [0],
      };

      let observer = new IntersectionObserver((entries, observer) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            let elem = entry.target;
            elem.src = elem.dataset.src;
            observer.unobserve();
          }
        });
      }, options);
      let images = document.querySelectorAll("img");
      for (img of images) {
        observer.observe(img);
      }
    </script>
  </body>
</html>
